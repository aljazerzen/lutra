@remote('sqlite_chinook')
module chinook {
    type album = int

    let get_albums: func (): [album]

    let get_album_by_id = func (album_id: int): album -> (
        get_albums() | std::filter(func (this: album) -> this == album_id) | std::index(0)
    )
}

@remote('postgres_chinook')
module box_office {
    type album_sale = int

    let get_album_sales: func (): [album_sale]

    let get_album_sales_by_id = func (album_id: int): album_sale -> (
        get_album_sales() | std::filter(func (this: album_sale) -> this == album_id) | std::index(0)
    )
}

func (album_id: int) -> {
    chinook::get_album_by_id(album_id),
    box_office::get_album_sales_by_id(album_id),
}