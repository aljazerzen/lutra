type TypedData = {
    ty = Ty,
    data = [int] # TODO: [uint8]
}

type Ty = {
    kind = TyKind,
    layout = enum {None, Some = TyLayout},
}

type TyKind = enum {
    Primitive = PrimitiveSet,

    Tuple = [{name = OptText, ty = Ty}],

    Array = Ty,

    Enum = [{name = text, ty = Ty}],
}

type TyLayout = {
    head_size = int,
    variants_recursive = [int]
}

type PrimitiveSet = enum {
    int,
    float,
    bool,
    text,
}

type OptText = enum {
    None,
    Some = text
}
